<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Part 1: Background and Basics</title>
    <meta charset="utf-8" />
    <meta name="author" content="Michael Kane School of Public Health, Biostatistics Department Yale University  " />
    <script src="part-1_files/header-attrs-2.5/header-attrs.js"></script>
    <link href="part-1_files/remark-css-0.0.1/duke-blue.css" rel="stylesheet" />
    <link href="part-1_files/remark-css-0.0.1/metropolis.css" rel="stylesheet" />
    <link href="part-1_files/remark-css-0.0.1/tamu-fonts.css" rel="stylesheet" />
    <link href="part-1_files/font-awesome-5.3.1/css/fontawesome-all.min.css" rel="stylesheet" />
    <link href="part-1_files/panelset-0.2.4/panelset.css" rel="stylesheet" />
    <script src="part-1_files/panelset-0.2.4/panelset.js"></script>
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Part 1: Background and Basics
### Michael Kane<br><span style = 'font-size: 80%;'>School of Public Health, Biostatistics Department<br>Yale University<br><br>
### <i class="fab  fa-github "></i> <a href="https://github.com/kaneplusplus">kaneplusplus</a><br> <i class="fab  fa-twitter "></i> <a href="https://twitter.com/kaneplusplus">kaneplusplus</a>

---




# &lt;br&gt; Welcome to Bootstrap Learning Python with R

&lt;br&gt;

## What are the goals of this class?

&lt;br&gt;

--

Learn how to translate your R programming skills to other langauges, Python in particular.

--

Separate programming language _syntax_ from programming _constructs_.

--

Appreciate the linguistic differences between R and Python and think about the implications for expressing computations and execution efficiency.

--

Be able to evaluate objective strengths and weaknesses of a programming language.

---

# &lt;br&gt; Welcome to Bootstrap Learning Python with R

&lt;br&gt;

## How will this class be taught?

&lt;br&gt;

--

I'm going to start with a core-programming constructs in R. I'll describe it, show how it works, and talk about some of it's distinguishing characteristics

--

I'll show the equivalent/analogous construct in Python. I'll describe it, show how it works, and we'll discuss some of the differences

--

You will follow along.

--

You execute the code, modify it, maybe (probably) break it, and ask questions.

---

# &lt;br&gt; Welcome to Bootstrap Learning Python with R

&lt;br&gt;

## &lt;br&gt; Who am I and why should you listen to me?

&lt;br&gt;

My name is Michael Kane, I'm an Assistant Professor of Biostatistics at Yale University and I work on methods in optimization-based machine learning, numerical and statistical computing.

--

I have a degree in Computer Engineering, master's degrees in Electrical Engineering and Statistics, and a Ph.D. in Statistics.

--

I've been a software architect and developer for a couple of different start-ups and other businesses. I built software in ~15 different programming languages.

---

# &lt;br&gt; What are the parts of this class?

&lt;br&gt;

## Background and Basics

&lt;br&gt;

## Digging Deeper into Python Programming Constructs

&lt;br&gt;

## Building Software Systems using Object-Oriented Programming

&lt;br&gt;

## Working with Data
---

# &lt;br&gt; Becoming a Polyglot Programmer

&lt;br&gt;

## Why learn Python 

&lt;br&gt;

--

"Use the best tool for the job" is great advice if you know how to use all of the tools.

--

Python is a great general-purpose programming language.

- It is [popular](https://www.tiobe.com/tiobe-index/)
- Simple syntax
- A lot of facilities in non-data-science applications

--

You learn to separate syntax from construct.

--

It will make you a better programmer.

---

# &lt;br&gt; Becoming a Polyglot Programmer

&lt;br&gt;

## Is Python Better than R?

&lt;br&gt;

--

If you are looking for a [head-to-head comparison by a computer scientist, Norm Matloff](https://github.com/matloff/R-vs.-Python-for-Data-Science) does a good job.


--

&lt;br&gt; 

I like avoiding the questions about language + community in favor of characterizing the language.

---

# &lt;br&gt; Becoming a Polyglot Programmer

&lt;br&gt;

## Is Python Better than R?

&lt;br&gt;

--

Python
- Object-oriented focused (manages complexity in large software systems - Keras + Tensorflow)
- Readable

--

R
- A pragmatic version of Lisp
- More dynamic (better meta-programming capabilities - DSD's)

--

Both of them are [Turing complete](https://en.wikipedia.org/wiki/Turing_completeness#Non-mathematical_usage), most comparisons are about areas of emphasis of the community.

---

# &lt;br&gt; Materials and Setup

&lt;br&gt;

## Python Virtual Environments

&lt;br&gt;

--

"Python, like most other modern programming languages, has its own unique way of downloading, storing, and resolving packages (or modules). While this has its advantages, there were some _interesting_ decisions made about package storage, resolution [and compatibility], which has lead to some problemsâ€”particularly with how and where packages are stored." 

-[realpython](https://realpython.com/python-virtual-environments-a-primer/) (emphasis added)


---

# &lt;br&gt; Materials and Setup

&lt;br&gt;

## What are my options for running Python?

&lt;br&gt;

1. The command line

--

2. RStudio

--

3. RMarkdown

--

4. IPython notebooks

---

# &lt;br&gt; Materials and Setup

&lt;br&gt;

## How do we install Python and manage packages?

--

&lt;br&gt;

## We use R

&lt;br&gt;

1. Install the `reticulate`.

--

2. Use `reticulate::install_miniconda()` to create a conda installation.

--

3. Create a conda environment with `conda_create()`

--

4. Start the conda environment.

--


See [python-and-conda-install.r](python-and-conda-install.r) for details.

---

# &lt;br&gt; Start the conda environment, run from R Markdown

&lt;br&gt;


```r
library(reticulate)
use_condaenv("python-for-r-developers", required = TRUE)
```

--

Now check that it works:


````
```{python}
# Python
print("Hello world from Python!")
```
````


```python
print("Hello world from Python!")
```

```
## Hello world from Python!
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Style (according to [PEP-8](https://www.python.org/dev/peps/pep-0008))

--

&lt;br&gt;

Python doesn't use { } to enclose code blocks it uses indentation. _[Four spaces](https://www.python.org/dev/peps/pep-0008/#indentation)_ is recommended.

--

[Line length should be limited to 72 characters](https://www.python.org/dev/peps/pep-0008/#maximum-line-length).

--

[Functions and variables should use lowercase with words separated by underscores as necessary to improve readability](https://www.python.org/dev/peps/pep-0008/#method-names-and-instance-variables).

--

Variables, types, and functions cannot contain "." This is an infix operator in Python and it's used to call methods (functions) and member attributes.

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Getting help

&lt;br&gt;

R's help function is the prefix operator `?`.


```r
# R
# Get help on the ? function
?`?`
```

--

&lt;br&gt;

Python's help function is `help()`. 


```python
# Python
# Get help on the help function
help(help)
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Variables and Assignment

--


```r
# R
a &lt;- 3
print(a + 2)
```

```
## [1] 5
```

--

In Python assignments are performed using `=`. There is no `&lt;-`

--


```python
# Python
a = 3
print(a + 2)
```

```
## 5
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Basic types in R

--


```r
# R
# Note: factor and raw not included
logical &lt;- TRUE
numeric &lt;- 2.72
integer &lt;- 42L
complex &lt;- 3 + 2i
character &lt;- "string"
cat(logical, numeric, integer, complex, character)
```

```
## TRUE 2.72 42 3+2i string
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Basic types in Python

--


```python
# Python
logical = True
numeric = 2.72
integer = 42
complex = 3 + 2j # Note: j... like an engineer.
character = "string"
print(logical, numeric, integer, complex, character)
```

```
## True 2.72 42 (3+2j) string
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## What about NA, NaN, Null, -Inf, and Inf?

--

Python has `None`

- `NA` and others need to be imported from packages. 
- It is roughly equivalent to `Null`.
- We'll get to these later.

--

"Use `is` when you want to check against an object's identity (e.g. checking to see if var is None). Use `==` when you want to check equality (e.g. Is var equal to 3?)." - [Stack Overflow User](https://stackoverflow.com/questions/14247373/python-none-comparison-should-i-use-is-or#14247383)

--


```python
#Python
a = None
print(a is None)
```

```
## True
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## If Statements in R

--



```r
# R
confused &lt;- FALSE
if (!confused) {
  cat("I'm getting it.")
} else {
  cat("Huh?")
}
```

```
## I'm getting it.
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## if Statements in Python

--


```python
# Python
confused = False
if not confused:
    print("I'm getting it.")
else:
    print("Huh?")
```

```
## I'm getting it.
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## `if-elif-else`

--

&lt;br&gt;


```python
# Python
confusion_level = 0 # assume confusion is 0 to 10 (very confused)
if 0 &lt;= confusion_level &lt; 3:
    print("I'm getting it.")
elif 3 &lt;= confusion_level &lt; 6:
    print("I'm kind of getting it.")
elif 6 &lt; confusion_level &lt;= 10:
    print("I'm not really getting it.")
else:
    print("Where am I?")
```

```
## I'm getting it.
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## `for` Loops


```r
# R
for (i in c(1, 2, 3)) {
  print(i)
}
```

```
## [1] 1
## [1] 2
## [1] 3
```


```python
# Python
for i in (1, 2, 3):
    print(i)
```

```
## 1
## 2
## 3
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Another `for` Loop


```r
# R
for (i in seq_len(3)) {
  print(i)
}
```

```
## [1] 1
## [1] 2
## [1] 3
```


```python
# Python
for i in range(3):
    print(i+1)
```

```
## 1
## 2
## 3
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## `while` Loops in R


```r
# R
i &lt;- 1
while (i &lt; 4) {
  print(i)
  i &lt;- i + 1
}
```

```
## [1] 1
## [1] 2
## [1] 3
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## `while` Loops in Python


```python
# Python
i = 1
while i &lt; 4:
    print(i)
    i += 1
```

```
## 1
## 2
## 3
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Functions


```r
# R
add_one &lt;- function(v) {
  v + 1
}

cat(add_one(3))
```

```
## 4
```


```python
# Python
def add_one(v):
    return v + 1
    
print(add_one(3))
```

```
## 4
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Don't forget to return values you want


```python
# Python
def add_one(v):
    ret = v + 1
    print(ret)
    ret
    
print(add_one(3))
```

```
## 4
## None
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Documenting your function


```python
# Python

def add_one(v):
    '''Add one to a vector of numeric values.'''
    ret = v + 1
    print(ret)
    ret

help(add_one)
```

```
## Help on function add_one in module __main__:
## 
## add_one(v)
##     Add one to a vector of numeric values.
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## R Lists


```r
# R
v &lt;- list(1, 2)
print(v)
```

```
## [[1]]
## [1] 1
## 
## [[2]]
## [1] 2
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## R Lists


```r
# R
v &lt;- c(v, list(3))
print(v)
```

```
## [[1]]
## [1] 1
## 
## [[2]]
## [1] 2
## 
## [[3]]
## [1] 3
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## R Lists


```r
# R
print(v[-1])
```

```
## [[1]]
## [1] 2
## 
## [[2]]
## [1] 3
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Python Lists


```python
# Python
v = [1, 2]
print(v)
```

```
## [1, 2]
```


```python
# Python
v = [1, 2]
print(v + [3])
```

```
## [1, 2, 3]
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Python Lists Continued 


```python
# Python
v = [1, 2, 3]
print(v[-1])
```

```
## 3
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## List Indexing

&lt;br&gt;

R indexes start at 1. Python starts at 0.


```r
# R
v &lt;- c('a', 'b', 'c')[3]
cat(v)
```

```
## c
```


```python
# Python
v = ['a', 'b', 'c']
print(v[2])
```

```
## c
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

R indexes from the first argument _through_ the second. Python indexes from the first _up to_ the last (non-inclusive).


```r
# R
v &lt;- c('a', 'b', 'c')[1:2]
cat(v)
```

```
## a b
```


```python
# Python
v = ['a', 'b', 'c']
print(v[0:2])
```

```
## ['a', 'b']
```

```python
print(v[:2])
```

```
## ['a', 'b']
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Lists containing values with different types


```python
# Python
list_vals = [1, '2', None]

def add_one(list_vals):
    for i in range(len(list_vals)):
        if list_vals[i] is None:
            print("Value at index " + str(i) + " is None. Not adding 1.")
        elif isinstance(list_vals[i], str):
            list_vals[i] = str(int(list_vals[i]) + 1)
        elif isinstance(list_vals[i], int):
            list_vals[i] += 1
        else:
            print("Unsupported type at ", i, ". Not doing anything")
    return list_vals
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Lists containing values with different types (cont'd) 


```python
# Python
print(list_vals)
```

```
## [1, '2', None]
```

```python
print(add_one(list_vals))
```

```
## Value at index 2 is None. Not adding 1.
## [2, '3', None]
```

```python
print(list_vals)
```

```
## [2, '3', None]
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Values are passed _by reference_ 


```python
# Python
list_vals = [1, '2', None]

def add_one(list_vals):
    ret_vals = list_vals.copy()
    for i in range(len(ret_vals)):
        if ret_vals[i] is None:
            print("Value at index " + str(i) + " is None. Not adding 1.")
        elif isinstance(ret_vals[i], str):
            ret_vals[i] = str(int(ret_vals[i]) + 1)
        elif isinstance(ret_vals[i], int):
            ret_vals[i] += 1
        else:
            print("Unsupported type at ", i, ". Not doing anything")
    return ret_vals
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Values are passed _by reference_ (cont'd) 


```python
# Python
lv_one_added = add_one(list_vals)
```

```
## Value at index 2 is None. Not adding 1.
```

```python
print(lv_one_added)
```

```
## [2, '3', None]
```

```python
print(list_vals)
```

```
## [1, '2', None]
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## `=` Doesn't copy lists


```python
# Python
a = [3]
b = a
b[0] = 4
print(a)
```

```
## [4]
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## It does copy singletons


```python
# Python
a = 3
b = a
b = 4
print(a)
```

```
## 3
```

---

# &lt;br&gt; The Basics

## Lists are not like R vectors 


```r
# R
a &lt;- 1:3
print(a + 1)
```

```
## [1] 2 3 4
```


```python
# Python
a = list(range(1, 4))
print(a)
```

```
## [1, 2, 3]
```

```python
a + 1
```

```
## Error in py_call_impl(callable, dots$args, dots$keywords): TypeError: can only concatenate list (not "int") to list
## 
## Detailed traceback: 
##   File "&lt;string&gt;", line 1, in &lt;module&gt;
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## List Comprehensions


```r
# R
l &lt;- as.list(1:3)
print(lapply(l, function(x) x + 1))
```

```
## [[1]]
## [1] 2
## 
## [[2]]
## [1] 3
## 
## [[3]]
## [1] 4
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## List Comprehensions


```python
# Python
l = list(range(1, 4))
print( [x + 1 for x in l] )
```

```
## [2, 3, 4]
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## A Note on Tuples 

In Python a tuple is an _immutable_ list. 


```python
t1 = 1, 2, 3   # Create a tuple like this...
t2 = (1, 2, 3) # or like this

t1[1] = 2 # Throws an error
```

```
## Error in py_call_impl(callable, dots$args, dots$keywords): TypeError: 'tuple' object does not support item assignment
## 
## Detailed traceback: 
##   File "&lt;string&gt;", line 1, in &lt;module&gt;
```

```python
first_equal, second_equal, third_equal = [ t1[i] == t2[i] for i in range(len(t1)) ]
print(first_equal, second_equal, third_equal)
```

```
## True True True
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Dictionaries in Python are named lists in R) 


```r
# R
l &lt;- list(a = c(1:3), b = c("c", "d", "e", "f"))
l$b[2:4]
```

```
## [1] "d" "e" "f"
```


```python
# Python
l = {'a' : list(range(1, 4)),
     'b' : ["c", "d", "e", "f"]
     }
     
print(l['b'][1:4])
```

```
## ['d', 'e', 'f']
```

---

# &lt;br&gt; The Basics

&lt;br&gt;

## Dictionaries are composed of keys and values


```python
# Python
l = {'a' : list(range(1, 4)),
     'b' : ["c", "d", "e", "f"]
    }

print(l.keys())
```

```
## dict_keys(['a', 'b'])
```

```python
print(l.values())
```

```
## dict_values([[1, 2, 3], ['c', 'd', 'e', 'f']])
```

---

&lt;style type="text/css"&gt;
.huge {
  font-size: 200%;
}
&lt;/style&gt;

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
.center[
.huge[
Great job. You made it to the end of part 1.
]
]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create();
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
